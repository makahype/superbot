var _s={};_s.TDELIM="%t";_s.get=function(a,b){return _s.ajax("GET",a,b)};_s.post=function(a,b){return _s.ajax("POST",a,b)};_s.ajax=function(g,b,e){e=_u.queryStr(e);var a=false;var d={};var c=new XMLHttpRequest();c.open(g,b,true);c.setRequestHeader("Content-type","application/x-www-form-urlencoded");c.onreadystatechange=function(){if(c.readyState==4&&c.status==200){a=true;d=c.responseText}};c.send(e);var f=_u.defer(function(){if(a){return d}else{return f}});return f};_s.templateStorage={};_s.compileTemplate=function(c,b){if((c+"")==c){c=_u.eleId(c)}var a=c.innerHTML;_s.templateStorage[b]=a;c.innerHTML=""};_s.parseTemplate=function(a,e){var c=_s.templateStorage[a];var d="";var f={};for(var b=0;b<e.length;b++){d=_s.TDELIM+e[b].name+_s.TDELIM;d=d.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1");f=new RegExp(d,"g");c=c.replace(f,e[b].value)}return c};_s.renderTemplate=function(a,d,c){var b=_s.parseTemplate(a,d);c.innerHTML=b;return c};_s.appendTemplate=function(a,d,c){var b=_s.parseTemplate(a,d);var e=_u.convertMarkupToNode(b);c.appendChild(e)};_s.renderLoop=function(a,d,k){var f="";var e=0;var h="";var j="";var b={};for(var g=0;g<d.length;g++){f=_s.parseTemplate(a,d[g]);j=j+f}k.innerHTML=j};_s.batchRender=function(d){var a=false;var b=function(){for(var e=0;e<d.length;e++){d[e]()}a=true};var c=_u.defer(function(){if(a){return true}else{return c}});window.requestAnimationFrame(b);return c};